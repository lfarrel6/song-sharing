(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){e.exports=n(205)},121:function(e,t,n){},133:function(e,t){},135:function(e,t){},204:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(113),i=n.n(l),c=(n(121),n(27)),o=n(25),s=n(9),u=n(17),m=n(18),h=n(20),d=n(19),p=n(21),f=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.newWindow?r.a.createElement("a",{href:this.props.href,id:this.props.htmlID,className:this.props.class,style:this.props.style,target:"_blank",rel:"noopener noreferrer"},this.props.text):r.a.createElement("a",{href:this.props.href,id:this.props.htmlID,className:this.props.class,style:this.props.style},this.props.text)}}]),t}(r.a.Component);var g={color:"#fff"},b=Object(s.a)({},g,{marginTop:"10vh"}),y=Object(s.a)({},g,{textDecoration:"underline",fontWeight:"bold"}),E={listStyleType:"none",padding:"0"},v={marginTop:"1vh"},S={textDecoration:"underline",fontWeight:"bold",color:"#fff"},w=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",{style:g},"Simple Song Sharing Web App"),r.a.createElement("h3",{style:g},"Made by ",r.a.createElement(f,{style:y,href:"https://lfarrel6.github.io",newWindow:!0,text:"Liam Farrelly"}))),r.a.createElement("div",{style:b},r.a.createElement("h1",null,"Made using..."),r.a.createElement("ul",{style:E},r.a.createElement("li",{style:v},r.a.createElement(f,{style:S,href:"https://www.reactjs.org",newWindow:!0,text:"ReactJS"})),r.a.createElement("li",{style:v},r.a.createElement(f,{style:S,href:"https://www.last.fm/api/intro",newWindow:!0,text:"LastFM API"})),r.a.createElement("li",{style:v},r.a.createElement(f,{style:S,href:"https://www.npmjs.com/package/qr-image",newWindow:!0,text:"qr-image"})))))};var k={padding:"1em",borderRadius:"15px",backgroundColor:"#ccc",border:"none",fontWeight:"bold",fontSize:"1em",marginTop:"1em",marginBottom:"1em",minWidth:"33vw",minHeight:"6vh"},j=function(e){var t=e.defaultStyle?k:e.styling;return r.a.createElement("button",{style:t,onClick:e.onClick},e.body)};var O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(c.b,{to:"/Share"},r.a.createElement(j,{body:"Share a song",defaultStyle:!0}))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/Scan"},r.a.createElement(j,{body:"Scan a song",defaultStyle:!0}))))},x=n(130),I="http://ws.audioscrobbler.com/2.0/",C="99f9fa291c2122382500c59ed0b2229c";function W(e){return r.a.createElement("div",{style:e.divStyling},r.a.createElement("label",{htmlFor:e.inputName,style:e.inputLabelStyle},e.inputLabel," "),r.a.createElement("input",{type:e.inputType,name:e.inputName,placeholder:e.inputPlaceHolder,onChange:e.onChange}))}var D=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).updateArtist=function(e){n.artist=e.target.value},n.updateAlbum=function(e){n.album=e.target.value},n.updateSong=function(e){n.song=e.target.value},n.createScannable=function(){var e=!1;""!==n.artist.trim()&&(e=!0);var t=I+"?method=track.search&track=".concat(n.song,"&api_key=").concat(C,"&format=json")+(e?"&artist=".concat(n.artist):"");fetch(t).then(function(e){return e.json()}).then(function(e){var t=e.results.trackmatches;if(console.log(t),t.track.length>0){var a=t.track,r=x.imageSync(JSON.stringify(a[0]),{type:"svg"}),l=new Blob([r],{type:"image/svg+xml"}),i=URL.createObjectURL(l);n.setState({shareSVG:i,tracks:a,selectedID:0,searched:!0})}})},n.state={shareSVG:"",tracks:[],selectedID:-1,searched:!1},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"displayInfo",value:function(e){var t=e.url,n=e.artist,a=e.name,l=e.image[1]["#text"];return console.log("".concat(t," ").concat(n," ").concat(a," ").concat(l)),r.a.createElement("section",{style:A},r.a.createElement("p",null,r.a.createElement("span",{style:L},"Artist:")," ",n),r.a.createElement("p",null,r.a.createElement("span",{style:L},"Song:")," ",a),r.a.createElement("p",null,r.a.createElement("span",{style:L},"Url:")," ",r.a.createElement(f,{style:A,href:t,newWindow:!0,text:"lastFM"})))}},{key:"render",value:function(){var e=r.a.createElement("section",null);return""!==this.state.shareSVG?e=r.a.createElement("div",null,r.a.createElement("h3",{style:A},"Here's what was found..."),this.displayInfo(this.state.tracks[this.state.selectedID]),r.a.createElement("img",{style:V,alt:"Generated QR code",src:this.state.shareSVG})):this.state.searched&&(e=r.a.createElement("div",null,r.a.createElement("h3",{style:A},"Uh oh... Looks like we didn't find anything"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{divStyling:F,inputLabelStyle:T,inputName:"artistInput",inputLabel:"Artist",inputType:"text",inputPlaceHolder:"Enter the artist...",onChange:this.updateArtist}),r.a.createElement(W,{divStyling:F,inputLabelStyle:T,inputName:"songInput",inputLabel:"Song",inputType:"text",inputPlaceHolder:"Enter the song...",onChange:this.updateSong}),r.a.createElement(j,{body:"Generate",defaultStyle:!0,onClick:this.createScannable}),e)}}]),t}(r.a.Component),A={color:"#fff"},L={fontWeight:"bold"},F={margin:"1em"},T={color:"#fff",fontWeight:"bold",width:"100px",textAlign:"right",display:"inline-block",marginRight:"0.2em"},V={height:"25vh",width:"25vh",backgroundColor:"#fff"},N=D,R=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).change=function(e){n.props.getChange(e.target.value)},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.options.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.text)});return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:this.props.htmlID}),r.a.createElement("select",{id:this.props.htmlID,onChange:this.change},e))}}]),t}(r.a.Component),G=new(n(72).BrowserQRCodeReader),H=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).GetVideoElemID=function(){return"CameraFeedPreview"},n.state={scanning:!1,availableCameras:[],srcId:-1,successfulScan:!1,result:{}},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;G.getVideoInputDevices().then(function(t){if(t.length>0){var n=[];t.forEach(function(e){n.push(e)}),e.setState({availableCameras:n,srcId:n[0].deviceId})}})}},{key:"updateVideoSrc",value:function(e){alert(e),this.setState({srcId:e}),this.beginScanning()}},{key:"toggleScanning",value:function(){this.state.scanning?(G.reset(),this.setState({scanning:!1})):this.beginScanning()}},{key:"beginScanning",value:function(){var e=this;if(this.state.availableCameras.length>0){var t=this.state.srcId,n=!0,a=this.GetVideoElemID();G.decodeFromInputVideoDevice(t,a).then(function(t){e.setState({successfulScan:!0,result:JSON.parse(t)})}).catch(function(t){n=!1,e.setState({scanning:!1}),console.log("Error occured ".concat(t))}),n&&this.setState({scanning:!0})}}},{key:"render",value:function(){var e=this,t=this.state.availableCameras.map(function(e){return{id:e.deviceId,text:e.label}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:M},"Scan"),r.a.createElement(R,{options:t,label:"Input Source: ",getChange:function(t){e.updateVideoSrc(t)},htmlID:"videoInputSrc"}),r.a.createElement(j,{defaultStyle:!0,body:this.state.scanning?"Stop Scanning":"Begin Scanning",onClick:function(){e.toggleScanning()}}),r.a.createElement("div",{style:B},r.a.createElement("video",{style:B,id:this.GetVideoElemID()})),this.state.successfulScan&&r.a.createElement(o.a,{push:!0,to:{pathname:"/result",state:this.state.result}}))}}]),t}(r.a.Component),M={color:"#fff"},B={height:"30vh",width:"30vw",backgroundColor:"rgba(200,200,200,0.3)",margin:"auto",textAlign:"center"},P=H,J=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).renderHeader=function(){return r.a.createElement("h1",null,n.state.artist," - ",n.state.name)},n.renderImage=function(e){return r.a.createElement("div",null,r.a.createElement("img",{alt:"Accompanying Artwork",src:e}))},n.renderListeners=function(){return r.a.createElement("h3",null,"Listener Count: ",n.state.listeners)},n.state=Object(s.a)({},n.props.location.state),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"renderInfo",value:function(e){var t=this.renderHeader(),n=e.length>0?e[0]["#text"]:"",a=""!==n?this.renderImage(n):r.a.createElement("h3",null,'"No image found :("'),l=this.renderListeners(),i=r.a.createElement(f,{style:U,text:"View on LastFM",href:this.state.url});return r.a.createElement(r.a.Fragment,null,t,a,l,i)}},{key:"render",value:function(){var e=this.state.name&&""!==this.state.name&&this.state.artist&&""!==this.state.artist,t=this.state.image&&this.state.image.length>0?this.state.image.filter(function(e){return"medium"===e.size}):"";return console.log(this.state),r.a.createElement("div",{className:"whiteText centered"},e?this.renderInfo(t):r.a.createElement("h1",null,"Oops... no results here!"))}}]),t}(r.a.Component),U={textDecoration:"underline",color:"#fff",fontWeight:"bold"},q=J;var z={position:"relative",textAlign:"left",color:"#fff",padding:"0em 0em 0em 1em",borderBottom:"1px #ccc solid"},Q={display:"inline-block",margin:"0"},_={display:"inline",listStyleType:"none",margin:"0"},$=Object(s.a)({},_,{textAlign:"right",float:"right",marginTop:"1em"}),K=Object(s.a)({},_,{paddingRight:"1em",color:"#fff",textDecoration:"none"}),X={display:"inline"},Y=function(e){return r.a.createElement("header",{style:z},r.a.createElement("h1",{style:Q},"Song Sharer"),r.a.createElement("ul",{style:$},r.a.createElement("li",{style:X},r.a.createElement(c.b,{to:"/",style:K},"Home")),r.a.createElement("li",{style:X},r.a.createElement(c.b,{to:"/About",style:K},"About"))))};var Z={color:"#fff"},ee=Object(s.a)({},Z,{fontWeight:"normal",display:"inline-block"}),te=Object(s.a)({},ee,{float:"left",marginLeft:"1em"}),ne=Object(s.a)({},ee,{float:"right",marginRight:"1em"}),ae=Object(s.a)({},Z,{textDecoration:"underline",fontWeight:"bold"}),re={position:"absolute",bottom:"0",minWidth:"100vw",borderTop:"1px #ccc solid"},le=function(e){return r.a.createElement("footer",{style:re},r.a.createElement("h3",{style:te},"Made by ",r.a.createElement(f,{style:ae,href:"https://lfarrel6.github.io",newWindow:!0,text:"Liam Farrelly"})),r.a.createElement("h5",{style:ne},"Powered by ",r.a.createElement(f,{style:ae,href:"https://last.fm",newWindow:!0,text:"LastFM"})))};n(204);var ie={marginTop:"3em"},ce={textAlign:"center",margin:"0",border:"0",padding:"0",minHeight:"100vh",position:"relative"},oe=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{style:ce},r.a.createElement(Y,null),r.a.createElement("div",{className:"content",style:ie},r.a.createElement(o.b,{exact:!0,path:"/",component:O}),r.a.createElement(o.b,{path:"/Share",component:N}),r.a.createElement(o.b,{path:"/Scan",component:P}),r.a.createElement(o.b,{path:"/About",component:w}),r.a.createElement(o.b,{path:"/Result",component:q})),r.a.createElement(le,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,1,2]]]);
//# sourceMappingURL=main.e92edd94.chunk.js.map